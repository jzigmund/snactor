---
tags:
  - inspect_machine
outputs:
  - name: ip_list
    type: IPList

description: |
  Get the system IP addresses

  Inputs:
    None
  Outputs:
    ip_list - List of IPs

executor:
  type: bash
  output-processor:
    type: string-list
    target: '@ip_list.ips@'
  payload: |
    /sbin/ip -4 -o addr list | grep -E '(wl|e(th|n|m))' | sed 's/.*inet \([0-9\.]\+\)\/.*$/\1/g'
